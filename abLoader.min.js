/*
abLoader - jQuery plugin
version 0.1.0
http://github.com/pooyanarab/abLoader
*/
var abLoader=function(){function e(){e.urls=[],e.total=0,e.select=-1,e.jQueryInitialized=!1,e.jQueryLoaded=!1,e.runPending=!1,e.jQueryLoader()}return e.jQueryLoader=function(){"undefined"==typeof jQuery?(e.jQueryInitialized||(e.jQueryInitialized=!0,document.write('<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>')),setTimeout(e.jQueryLoader,50)):(e.jQueryLoaded=!0,e.runPending&&e.load())},e.add=function(t,n){n=n||1,0>n||(e.total+=n,e.urls.push({url:t,weight:n}))},e.run=function(){if(0!=e.urls.length&&0!=e.total){var t,n=[],r=0;for(t=0;t<e.urls.length;t++)r+=e.urls[t].weight,n.push(r/e.total);var u=Math.random();for(t=0;t<n.length;t++)if(u<=n[t]){e.select=t;break}-1==e.select&&(e.select=0),e.jQueryLoaded?e.load():e.runPending=!0}},e.load=function(){var t=e.urls[e.select].url;jQuery.ajax({url:t}).done(function(e){document.open(),document.write(e),document.close()}).fail(function(){window.location.assign(t)})},e(),e}();
